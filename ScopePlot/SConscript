import os

Import('env')
env = env.Create("qttoolbox.scopeplot", tools = ['default', 'qt'])

my_tools = env.Require(['PKG_QT','PKG_QWT'])

mydir=Dir('.')

def PKG_QTTOOLBOX_SCOPEPLOT(env):
	env.Append(CPPPATH=[mydir,])
	env.Append(LIBPATH=[mydir,])
	env.Append(LIBS=['scopeplot',])
	env.Append(QT_UICIMPLFLAGS=['-L', str(mydir)])
	env.Apply(my_tools)

Export('PKG_QTTOOLBOX_SCOPEPLOT')

sharedlib = env.SharedLibrary('scopeplot', 
Split("""
 ScopePlotBase.ui
 ScopePlot.cpp
 ScrollBar.cpp
 ScrollZoomer.cpp
 ScopePlotPlugin.cpp
"""))

staticlib = env.StaticLibrary('scopeplot', 
Split("""
 ScopePlotBase.ui
 ScopePlot.cpp
 ScrollBar.cpp
 ScrollZoomer.cpp
 ScopePlotPlugin.cpp
"""))

Default(sharedlib)
Default(staticlib)

env.Install(os.path.join(env['QTDIR'],'plugins','designer'), sharedlib)

SConscript('Test/SConscript')